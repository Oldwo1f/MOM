<div ng-controller="projectCtrl">
	<div class="row">
		<div class="col-lg-12">
			<h1>Gestion des Projets <ng-pluralize class="small" ng-show="nbProjects" count="nbProjects"  when="{'0': 'Aucun projet','1': '{{nbrojets}} projet','other': '{{nbProjects}} projets'}" </ng-pluralize></h1>
		</div>
	</div><!-- /.row -->
	<div class="row">
		<div class="col-lg-12">
			<div class="tableheader">
					<div class="tableaction  col-md-6 col-lg-6 pull-left">
						<button class='btn btn-default btn-success' ng-click="lightboxAddProject =true;"><span class="glyphicon glyphicon-plus"></span> Ajouter</button>
						<button class='btn btn-default btn-primary' ng-click="editPage()" ng-disabled="nbChecked != 1"><span class="glyphicon glyphicon-edit"></span> Modifier</button>
						<button class='btn btn-default btn-danger' ng-hide="supprimerVerif" ng-click="suppVerif()" ng-disabled="disableOptions"><span class="glyphicon glyphicon-trash"></span> Supprimer</button>
						<button class='btn btn-danger' ng-show="supprimerVerif" ng-click="supprimer()" ng-disabled="disableOptions"> <span class="glyphicon glyphicon-trash"></span>Supprimer définitivement?</button>
						<div class="nbselected ">
							<ng-pluralize class="small" ng-show="nbChecked" count="nbChecked"  when="{'0': 'Aucun projet séléctionné','1': '{{nbChecked}} projet séléctionné','other': '{{nbChecked}} projets séléctionnés'}" </ng-pluralize>
						</div>
					</div>
			</div>
			<div class="table-responsive">
				<div class="lightbox col-md-8 col-lg-8 " ng-show="lightboxAddProject">
					<button type="button" class="close" ng-click="lightboxAddProject = false; closeLightBox()">×</button>
					<h3>Ajouter un projet</h3>
					<form ng-submit="addProject()">
						<div class="form-group" rel="name">
			                <label for="name">Nom</label>
			                <input type="text" class="form-control" id="name" name="name" placeholder="Entrez le nom du projet" ng-model="newProjectInputName"required>
			            </div>
			           <div class="form-group" rel="description">
			                <label for="description">Description</label>
			                <textarea type="text" class="form-control" id="description" name="description" placeholder="Entrez votre description"  rows="7" ng-model="newProjectInputDescription"></textarea>
			            </div>
			           
						<div class="handleErrors"></div>
						<button type="submit" class="btn btn-default" >Submit</button>
					</form>
				</div>
				<div class="lightbox col-md-8 col-lg-8 " ng-show="lightboxEditProject">
					<button type="button" class="close" ng-click="lightboxEditProject = false; closeLightBox()">×</button>
					<h3>Editer les informations d'un projet</h3>
					<form ng-submit="editProject()">

						<div class="form-group" rel="name">
			                <label for="name">Nom</label>
			                <input type="text" class="form-control" id="name" name="name" placeholder="Entrez le nom du projet" ng-model="editProjectInputName"required>
			            </div>
			           <div class="form-group" rel="description">
			                <label for="description">Description</label>
			                <textarea type="text" class="form-control" id="description" name="description" placeholder="Entrez votre description"  rows="7" ng-model="editProjectInputDescription"></textarea>
			            </div>
			           
						<div class="handleErrors"></div>
						<button type="submit" class="btn btn-default" >Submit</button>
					</form>
				</div>
			  	<table class="table table-bordered table-hover tablesorter">
					<thead>
						<tr>
							<th style="width: 30px;">
								<input type="checkbox" ng-show="chargementTerminer" ng-click="checkAll(allchecked)" ng-model="allchecked" >
							</th>
							<th>Nom <i class="fa fa-sort"></i></th>
							<th>Description <i class="fa fa-sort"></i></th>
							<th>Dernière modif<i class="fa fa-sort"></i></th>
							<th>Images <i class="fa fa-sort"></i></th>
						 </tr>
					</thead>
					<tbody>
						<tr class="chargement" ng-hide="chargementTerminer">
							<td colspan="4">Chargement . . .</td>
						</tr>
					  <tr ng-repeat="project in projects"  ng-class="{selectedRow: project.selected}" ng-dblclick="checkAll(true);project.selected = true; editPage() ">

						<td><input type="checkbox" ng-model="project.selected"></td>
						<td>{{ project.name }}</td>
						<td>{{ project.description | wrap }}</td>
						<td>{{ project.updatedAt | date:'dd/MM/yyyy' }}</td>
						<td>
							<img src="" width="30px" height="30px">
							<img src="" width="30px" height="30px">
							<img src="" width="30px" height="30px">
							<img src="" width="30px" height="30px">
						</td>
					  </tr>
					  
					  
					</tbody>
			  	</table>
			</div>
		</div>
	</div>
</div>

